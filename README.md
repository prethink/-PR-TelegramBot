–£—Ä–æ–∫–∏ –ø–æ PRTelegramBot - [prethink.ru](https://prethink.ru/category/uroki/)

# üì∞ –û–ø–∏—Å–∞–Ω–∏–µ
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏ —É–¥–æ–±–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è telegram –±–æ—Ç–æ–≤.   
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. https://github.com/prethink/PRTelegramBot/tree/master/ConsoleExample

# üíé –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

 - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ (reply) –∏ –æ—Ç–≤–µ—Ç–æ–≤;
 - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö —Å–∫–æ–±–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, "–õ–∞–π–∫–∏ (5)";
 - –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω—é –æ—Ç–≤–µ—Ç–æ–≤;
 - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö (Inline) –∫–æ–º–∞–Ω–¥;
 - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ –∏ –º–µ–Ω—é;
 - –†–∞–±–æ—Ç–∞ —Å inline –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º;
 - –ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–π;
 - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–µ—à–∞ [/];
 - –†–∞–±–æ—Ç–∞ —Å–æ —Å–ª–æ–≤–∞—Ä–µ–º;
 - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –ø–æ—à–∞–≥–æ–≤–æ;
 - –•—Ä–∞–Ω–µ–Ω–∏–µ –∫—ç—à–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
 - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º;
 - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–º;
 - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º.

# üîë –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

 - TelegramBot v19.0.0 https://github.com/TelegramBots/Telegram.Bot
 - Microsoft.Extensions.Configuration.Binder v7.0.0 https://github.com/dotnet/runtime
 - Microsoft.Extensions.Configuration.Json v7.0.0 https://github.com/dotnet/runtime
# üß± –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
 - CalendarPicker | karb0f0s   https://github.com/karb0f0s/CalendarPicker

# üéå –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–î–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ –±–æ—Ç–∞ BotFather –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª  telegram.json –≤ –ø–æ–ª–µ Token –∏–∑ —Å–µ–∫—Ü–∏–∏ TelegramConfig, —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è.

> –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –æ—Ç BotFather –≤ Telegram, —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —à–∞–≥–∞–º:
> 
> 1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ "BotFather". –≠—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –±–æ—Ç Telegram, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å–æ–∑–¥–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞.
> 2. –ù–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥ —Å BotFather, –Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É "Start" –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏–≤ –µ–º—É –∫–æ–º–∞–Ω–¥—É "/start".
> 3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É "/newbot", —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞.
> 4. BotFather –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–∞—Å –≤–≤–µ—Å—Ç–∏ –∏–º—è –¥–ª—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞. –í–≤–µ–¥–∏—Ç–µ –∂–µ–ª–∞–µ–º–æ–µ –∏–º—è –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.
> 5. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞ BotFather –≤—ã–¥–∞—Å—Ç –≤–∞–º —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞. –≠—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫: "1234567890:ABCDEFGHIJKLMNOPQRSTUVXYZ".
> 6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω. –≠—Ç–æ—Ç —Ç–æ–∫–µ–Ω —É–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API Telegram.

### üìî Configs/telegram.json
telegram - —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–µ–ª–µ–≥—Ä–∞–º api;
```json
//–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É!!!
{
  "TelegramConfig": {
    // –¢–æ–∫–µ–Ω –¥–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞
    "Token": "",
    //–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –±–æ—Ç–∞, 
    //–ü—Ä–∏–º–µ—Ä Admins": [5125555, 23542352, 32452352, 34534534],
    "Admins": [],
    //–ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–æ–π –±–æ—Ç–æ–º –º–æ–≥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å–µ, 
    //–ü—Ä–∏–º–µ—Ä WhiteListUsers": [5125555, 23542352, 32452352, 34534534],
    "WhiteListUsers": [],
    //–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–ª–∏ –Ω–µ—Ç —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ª–æ–≤–∞—Ä–µ
    "ShowErrorNotFoundNameButton": false
  }
}
```

### üìî Configs/appconfig.json
appconfig - —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å –∏—Ö –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –î–∞–Ω–Ω—ã–µ –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω–∏—Ç:
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ;
- –°–ª–æ–≤–∞—Ä–∏–∫ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π;
```json
    "Messages": {
      "MSG_MAIN_MENU": "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
      "MSG_EXAMPLE_TEXT": "–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ appconfig.json"
    }
 ```
- –°–ª–æ–≤–∞—Ä–∏–∫ –¥–ª—è –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π –∫–Ω–æ–ø–æ–∫.
```json
    "Buttons": {
      "RP_START": "/start",
      "RP_MENU": "/menu",
      "RP_MAIN_MENU": "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
      "RP_EXAMPLE_FROM_JSON": "AppConfig –ö–Ω–æ–ø–∫–∞",
      "IN_EXAMPLE_ONE": "–ü—Ä–∏–º–µ—Ä 1 appconfig.json"
    }
```
### –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –∫–æ–º–∞–Ω–¥
> –í –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ª—é–±–æ–º –∫–ª–∞—Å—Å–µ, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–¥–∞–Ω–Ω–æ–º—É –ø—Ä–∏–º–µ—Ä—É.    
> –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å "ReflectionFinder".   
```csharp
        [–ê—Ç—Ä–∏–±—É—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏]
        public static async Task –ù–∞–∑–≤–∞–Ω–∏–µ–ú–µ—Ç–æ–¥–∞(ITelegramBotClient –Ω–∞–∑–≤–∞–Ω–∏–µ, Update –Ω–∞–∑–≤–∞–Ω–∏–µ)
        {
            //–¢–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏
        }

```


–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ ***Program.cs*** –≤ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ   
```csharp
using NLog;
using static PRTelegramBot.Core.TelegramService;
using PRTelegramBot.Extensions;
using PRTelegramBot.Core;
using PRTelegramBot.Configs;
using ConsoleExample.Examples;

//–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NLog
NLogConfigurate.Configurate();
//–°–ª–æ–≤–∞—Ä–∏–∫ –¥–ª—è –ª–æ–≥–≥–µ—Ä–æ–≤
Dictionary<string, Logger> LoggersContainer = new Dictionary<string, Logger>();
//–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const string EXIT_COMMAND = "exit";

//–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
Console.WriteLine("–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã");
Console.WriteLine($"–î–ª—è –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞–ø–∏—à–∏—Ç–µ {EXIT_COMMAND}");

#region –∑–∞–ø—É—Å–∫ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞
var telegram = TelegramService.GetInstance();

//–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ –ª–æ–≥–∏
telegram.OnLogCommon                += Telegram_OnLogCommon;
//–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ª–æ–≥–∏ —Å –æ—à–∏–±–∫–∞–º–∏
telegram.OnLogError                 += Telegram_OnLogError;
//–ó–∞–ø—É—Å–∫ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
await telegram.Start();

if(telegram.Handler != null)
{
    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—Ä–æ–º–µ message –∏ callback
    telegram.Handler.OnUpdate                       += Handler_OnUpdate;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏–π
    telegram.Handler.Router.OnWrongTypeMessage      += ExampleEvent.OnWrongTypeMessage;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–ø–∏—Å–∞–ª –≤ —á–∞—Ç start —Å deeplink
    telegram.Handler.Router.OnUserStartWithArgs     += ExampleEvent.OnUserStartWithArgs;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
    telegram.Handler.Router.OnCheckPrivilege        += ExampleEvent.OnCheckPrivilege;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–π  –∫–æ–º–∞–Ω–¥—ã
    telegram.Handler.Router.OnMissingCommand        += ExampleEvent.OnMissingCommand;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –≤–µ—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞ —á–∞—Ç–∞
    telegram.Handler.Router.OnWrongTypeChat         += ExampleEvent.OnWrongTypeChat;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–∫–∞—Ü–∏–π
    telegram.Handler.Router.OnLocationHandle        += ExampleEvent.OnLocationHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    telegram.Handler.Router.OnContactHandle         += ExampleEvent.OnContactHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–π
    telegram.Handler.Router.OnPollHandle            += ExampleEvent.OnPollHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ WebApps
    telegram.Handler.Router.OnWebAppsHandle         += ExampleEvent.OnWebAppsHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ
    telegram.Handler.Router.OnAccessDenied          += ExampleEvent.OnAccessDenied;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–º
    telegram.Handler.Router.OnDocumentHandle        += ExampleEvent.OnDocumentHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∞—É–¥–∏–æ
    telegram.Handler.Router.OnAudioHandle           += ExampleEvent.OnAudioHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –≤–∏–¥–µ–æ
    telegram.Handler.Router.OnVideoHandle           += ExampleEvent.OnVideoHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–æ—Ç–æ
    telegram.Handler.Router.OnPhotoHandle           += ExampleEvent.OnPhotoHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Å—Ç–∏–∫–µ—Ä–æ–º
    telegram.Handler.Router.OnStickerHandle         += ExampleEvent.OnStickerHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –≥–æ–ª–æ—Å–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
    telegram.Handler.Router.OnVoiceHandle           += ExampleEvent.OnVoiceHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º —Ç–∏–ø–æ–º
    telegram.Handler.Router.OnUnknownHandle         += ExampleEvent.OnUnknownHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º
    telegram.Handler.Router.OnVenueHandle           += ExampleEvent.OnVenueHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∏–≥—Ä–æ–π
    telegram.Handler.Router.OnGameHandle            += ExampleEvent.OnGameHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –≤–∏–¥–µ–æ–∑–∞–º–µ—Ç–∫–æ–π
    telegram.Handler.Router.OnVideoNoteHandle       += ExampleEvent.OnVideoNoteHandle;

    //–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∏–≥—Ä–∞–ª—å–Ω–æ–π –∫–æ—Å—Ç—å—é
    telegram.Handler.Router.OnDiceHandle            += ExampleEvent.OnDiceHandle;

}

#endregion

#region –†–∞–±–æ—Ç–∞ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
var tasker = new Tasker(10);
tasker.Start();
#endregion



#region –õ–æ–≥–∏
//–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
void Telegram_OnLogError(Exception ex, long? id = null)
{
    Console.ForegroundColor = ConsoleColor.Red;
    string errorMsg = $"{DateTime.Now}: {ex.ToString()}";


    if (ex is Telegram.Bot.Exceptions.ApiRequestException apiEx)
    {
        errorMsg = $"{DateTime.Now}: {apiEx.ToString()}";
        if (apiEx.Message.Contains("Forbidden: bot was blocked by the user"))
        {
            string msg = $"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {id.GetValueOrDefault()} –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –±–æ—Ç–∞ - " + apiEx.ToString();
            Telegram_OnLogCommon(msg, TelegramEvents.BlockedBot, ConsoleColor.Red);
            return;
        }
        else if (apiEx.Message.Contains("BUTTON_USER_PRIVACY_RESTRICTED"))
        {
            string msg = $"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {id.GetValueOrDefault()} –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –±–æ—Ç–∞ - " + apiEx.ToString();
            Telegram_OnLogCommon(msg, TelegramEvents.BlockedBot, ConsoleColor.Red);
            return;
        }
        else if (apiEx.Message.Contains("group chat was upgraded to a supergroup chat"))
        {
            errorMsg += $"\n newChatId: {apiEx?.Parameters?.MigrateToChatId.GetValueOrDefault()}";
        }

    }

    if (LoggersContainer.TryGetValue("Error", out var logger))
    {
        logger.Error(errorMsg);
    }
    else
    {
        var nextLogger = LogManager.GetLogger("Error");
        nextLogger.Error(errorMsg);
        LoggersContainer.Add("Error", nextLogger);
    }
    Console.WriteLine(errorMsg);
    Console.ResetColor();
}

//–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—â–∏—Ö –ª–æ–≥–æ–≤
void Telegram_OnLogCommon(string msg, TelegramEvents eventType, ConsoleColor color = ConsoleColor.Blue)
{
    Console.ForegroundColor = color;
    string formatMsg = $"{DateTime.Now}: {msg}";
    Console.WriteLine(formatMsg);
    Console.ResetColor();

    if (LoggersContainer.TryGetValue(eventType.GetDescription(), out var logger))
    {
        logger.Info(formatMsg);
    }
    else
    {
        var nextLogger = LogManager.GetLogger(eventType.GetDescription());
        nextLogger.Info(formatMsg);
        LoggersContainer.Add(eventType.GetDescription(), nextLogger);
    }
}
#endregion

//–û–∂–∏–¥–∞–Ω–∏–µ –≤–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–∫—Ä—ã–ª–æ—Å—å
while (true)
{
    var result = Console.ReadLine();
    if (result.ToLower() == EXIT_COMMAND)
    {
        Environment.Exit(0);
    }
}
```

–ù–∏–∂–µ –±—É–¥—É—Ç –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –∫–æ–º–∞–Ω–¥—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º–∞.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–ü—Ä–∏–º–µ—Ä—ã –≥–æ—Ç–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –µ—Å—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ –ø—É—Ç–∏ ***/Examples***
- ***ExampleCalendar.cs*** - –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º.
- ***ExampleCommand.cs*** - –ü—Ä–∏–º–µ—Ä –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å reply, inline –∏ —Å–ª–µ—à –∫–æ–º–∞–Ω–¥—ã.
- ***ExampleHandlers.cs*** - –ü—Ä–∏–º–µ—Ä –∫–∞–∫ –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å callback –¥–∞–Ω–Ω—ã–µ.
- ***ExampleStepCommand.cs*** - –ü—Ä–∏–º–µ—Ä c –ø–æ—à–∞–≥–æ–≤—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥.
- ***ExampleUserCache.cs*** - –ü—Ä–∏–º–µ—Ä c –∫—ç—à –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.    
- ***ExampleEvent.cs*** - –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π.    
- ***WebApp.html*** - –°–∫—Ä–æ–º–Ω—ã–π –ø—Ä–∏–º–µ—Ä —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è WebApp —Å—Ç—Ä–∞–Ω–∏—Ü—ã.   


### –†–∞–±–æ—Ç–∞ —Å Reply –∫–æ–º–∞–Ω–¥–∞–º–∏

> –î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ Reply –∫–æ–º–∞–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ***ReplyMenuHandlerAttribute***.    
> –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –∞—Ç—Ä–∏–±—É—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —à–∞–≥–∞–º–∏, –Ω–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —à–∞–≥–∏.     
> –í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã.    

```csharp
        [ReplyMenuHandler(true, "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã")]
        public static async Task –ù–∞–∑–≤–∞–Ω–∏–µ–ú–µ—Ç–æ–¥–∞(ITelegramBotClient –Ω–∞–∑–≤–∞–Ω–∏–µ, Update –Ω–∞–∑–≤–∞–Ω–∏–µ)
        {
          //–û–±—Ä–∞–±–æ—Ç–∫–∞
        }
       
        
        [ReplyMenuHandler(true, "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã", "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã")]
        public static async Task –ù–∞–∑–≤–∞–Ω–∏–µ–ú–µ—Ç–æ–¥–∞(ITelegramBotClient –Ω–∞–∑–≤–∞–Ω–∏–µ, Update –Ω–∞–∑–≤–∞–Ω–∏–µ)
        {
          //–û–±—Ä–∞–±–æ—Ç–∫–∞
        }
```


–ü—Ä–∏–º–µ—Ä
```csharp
        static int count = 0;
        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã"
        /// true/false –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –±—É–¥–µ—Ç –ª–∏ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—á—Ç–æ –∑–∞ —à–∞–≥–∏ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –¥–∞–ª—å—à–µ)
        /// </summary>
        [ReplyMenuHandler(true, "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã")]
        public static async Task ExampleReply(ITelegramBotClient botClient, Update update)
        {
            string msg = "C–æ–æ–±—â–µ–Ω–∏–µ";
            await Helpers.Message.Send(botClient, update, msg);
        }
        
        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "–°–∫–æ–±–∫–∏"
        /// –ü—Ä–∏–º–µ—Ä –µ—Å–ª–∏ –≤ –∫–Ω–æ–ø–∫–∏ –¥–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ —Å–∫–æ–±–∫–∞—Ö (2)
        /// </summary>
        [ReplyMenuHandler(true, ReplyKeys.PR_EXAMPLE_BRACKETS)]
        public static async Task ExampleBracket(ITelegramBotClient botClient, Update update)
        {
            
            string msg = $"–ó–Ω–∞—á–µ–Ω–∏ {count}";
            //–°–æ–∑–¥–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
            var option = new OptionMessage();
            //–°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ –¥–ª—è –º–µ–Ω—é
            var menuList = new List<KeyboardButton>();
            //–î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
            menuList.Add(new KeyboardButton(ReplyKeys.PR_EXAMPLE_BRACKETS+$" ({count})"));
            //–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º reply –º–µ–Ω—é
            //1 —Å—Ç–æ–ª–±–µ—Ü, –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ –º–µ–Ω—é, –ø—É–Ω–∫—Ç –≤ —Å–∞–º–æ–º –Ω–∏–∑—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            var menu = MenuGenerator.ReplyKeyboard(1, menuList, true, "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é");
            //–î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–Ω—é
            option.MenuReplyKeyboardMarkup = menu;
            await Helpers.Message.Send(botClient, update, msg, option);
            count++;
        }
        
        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "–ü—Ä–∏–º–µ—Ä"
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ /reply
        /// –ü—Ä–∏–º–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–ª–µ—à –∫–æ–º–∞–Ω–¥—ã –∏ reply
        /// </summary>
        [ReplyMenuHandler(true, ReplyKeys.RP_EXAMPLE)]
        [SlashHandler(SlashKeys.SL_EXAMPLE_WITH_REPLY)]
        public static async Task ExampleReply(ITelegramBotClient botClient, Update update)
        {
            //–ü—Ä–∏–º–µ—Ä –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ JSON —Ñ–∞–π–ª–∞
            string msg = MessageKeys.GetMessage(nameof(MessageKeys.MSG_EXAMPLE_TEXT));
            await Helpers.Message.Send(botClient, update, msg);
        }

        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "–ü—Ä–∏–º–µ—Ä 1" –∏–ª–∏ "–ü—Ä–∏–º–µ—Ä 2"
        /// –ü—Ä–∏–º–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑–Ω—ã—Ö reply –∫–æ–º–∞–Ω–¥ –¥–ª—è –≤—ã–≤–æ–¥–∞ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ñ—É–Ω–∫—Ü–∏–∏
        /// </summary>
        [ReplyMenuHandler(true, ReplyKeys.RP_EXAMPLE_ONE, ReplyKeys.RP_EXAMPLE_TWO)]
        [RequiredTypeChatAttribute(Telegram.Bot.Types.Enums.ChatType.Private)]
        public static async Task ExampleReplyMany(ITelegramBotClient botClient, Update update)
        {
            string msg = $"–í—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –≤ —á–∞—Ç–µ {update.Message.Text}";
            await Helpers.Message.Send(botClient, update, msg);
        }


        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "AppConfig –ö–Ω–æ–ø–∫–∞" - –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –≤ appconfig.json
        /// –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –∫–Ω–æ–ø–∫–æ–π –∏–∑ JSON —Ñ–∞–π–ª–∞
        /// [RequiredTypeUpdate] –ü—Ä–∏–º–µ—Ä —Ç–æ–≥–æ —á—Ç–æ –º–µ—Ç–æ–¥ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ —á–∞—Ç–∞
        /// [RequireDate]–ü—Ä–∏–º–µ—Ä —Ç–æ–≥–æ —á—Ç–æ –º–µ—Ç–æ–¥ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        /// </summary>
        [ReplyMenuHandler(true, nameof(ReplyKeys.RP_EXAMPLE_FROM_JSON))]
        [RequiredTypeChatAttribute(Telegram.Bot.Types.Enums.ChatType.Private)]
        [RequireTypeMessageAttribute(Telegram.Bot.Types.Enums.MessageType.Text)]
        public static async Task ExampleReplyJsonConfig(ITelegramBotClient botClient, Update update)
        {
            string msg = $"–í—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –≤ —á–∞—Ç–µ {update.Message.Text} –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ appconfig.json";
            await Helpers.Message.Send(botClient, update, msg);
        }
```
#### –°–æ–∑–¥–∞–Ω–∏–µ Reply –º–µ–Ω—é
```csharp
        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "ReplyMenu"
        /// –ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ reply –º–µ–Ω—é
        /// </summary>
        [ReplyMenuHandler(true, ReplyKeys.RP_EXAMPLE_REPLY_MENU)]
        [SlashHandler(SlashKeys.SL_EXAMPLE_WITH_REPLY)]
        public static async Task ExampleReplyMenu(ITelegramBotClient botClient, Update update)
        {
            string msg = "–ú–µ–Ω—é";
            //–°–æ–∑–¥–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
            var option = new OptionMessage();
            //–°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ –¥–ª—è –º–µ–Ω—é
            var menuList = new List<KeyboardButton>();
            
            //–î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º
            menuList.Add(new KeyboardButton("–ö–Ω–æ–ø–∫–∞ 1"));
            //–î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            menuList.Add(KeyboardButton.WithRequestContact("–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ–π –∫–æ–Ω—Ç–∞–∫—Ç"));
            //–î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –ª–æ–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            menuList.Add(KeyboardButton.WithRequestLocation("–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ—é –ª–æ–∫–∞—Ü–∏—é"));
            //–î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å –∑–∞–ø—Ä–æ—Å–æ–º –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–∞—Ç–∞ –±–æ—Ç—É
            menuList.Add(KeyboardButton.WithRequestChat("–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É –±–æ—Ç—É", new KeyboardButtonRequestChat() { RequestId = 2}));
            //–î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å –∑–∞–ø—Ä–æ—Å–æ–º –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–æ—Ç—É
            menuList.Add(KeyboardButton.WithRequestUser("–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–æ—Ç—É", new KeyboardButtonRequestUser() { RequestId = 1}));
            //–î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –æ–ø—Ä–æ—Å–∞
            menuList.Add(KeyboardButton.WithRequestPoll("–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ—é –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ"));
            //–î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å –∑–∞–ø—Ä–æ—Å–æ–º —Ä–∞–±–æ—Ç—ã —Å WebApp
            menuList.Add(KeyboardButton.WithWebApp("WebApp", new WebAppInfo() { Url = "https://prethink.github.io/telegram/webapp.html"}));
            
            //–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º reply –º–µ–Ω—é
            //1 —Å—Ç–æ–ª–±–µ—Ü, –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ –º–µ–Ω—é, –ø—É–Ω–∫—Ç –≤ —Å–∞–º–æ–º –Ω–∏–∑—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            var menu = MenuGenerator.ReplyKeyboard(1, menuList, true, "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é");
            //–î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–Ω—é
            option.MenuReplyKeyboardMarkup = menu;
            await Helpers.Message.Send(botClient, update, msg, option);
        }
```
### –†–∞–±–æ—Ç–∞ —Å Inline –∫–æ–º–∞–Ω–¥–∞–º–∏
**–í–ù–ò–ú–ê–ù–ò–ï: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ callback 128 –±–∞–π—Ç!**     
> –ë–∞–∑–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ Inline –∫–æ–º–∞–Ω–¥ ***Models/Enums/THeader.cs***     
```csharp
    /// <summary>
    /// –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è callback –∫–æ–º–∞–Ω–¥
    /// </summary>
    public enum THeader
    {
        [Description("–ü—É—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞")]
        None,
        [Description("–í—ã–±—Ä–∞—Ç—å –º–µ—Å—è—Ü")]
        PickMonth,
        [Description("–í—ã–±—Ä–∞—Ç—å –≥–æ–¥")]
        PickYear,
        [Description("–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è")]
        ChangeTo,
        [Description("–í—ã–±–æ—Ä –≥–æ–¥–∞ –º–µ—Å—è—Ü–∞")]
        YearMonthPicker,
        [Description("–í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É")]
        PickDate,
        [Description("–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞")]
        NextPage,
        [Description("–¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞")]
        CurrentPage,
        [Description("–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞")]
        PreviousPage,
    }
```
> –í –∫–æ–Ω—Å–æ–ª—å–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ***Models/CustomTHeader.cs***, –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π —Ñ–∞–π–ª —Å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ–º, –≤–∞–∂–Ω–æ —Ç–æ–ª—å–∫–æ, —á—Ç–æ–±—ã –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–º–µ–ª–æ –≤ —Å–µ–±–µ ***THeader***. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é –æ—Ç—Ä–∞–±–æ—Ç–∞–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º.     
> –ö—Ç–æ –∑–Ω–∞–∫–æ–º —Å asp.net mvc –∑–Ω–∞—é—Ç, —á—Ç–æ –∏–º—è —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å "Controller", –∑–¥–µ—Å—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è.
```csharp
    public enum CustomTHeader
    {
        [Description("–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –í–ò–ü")]
        GetFreeVIP,
        [Description("–í–∏–ø –Ω–∞ 1 –¥–µ–Ω—å")]
        GetVipOneDay,
        [Description("–í–∏–ø –Ω–∞ 1 –Ω–µ–¥–µ–ª—é")]
        GetVipOneWeek,
        [Description("–í–∏–ø –Ω–∞ 1 –º–µ—Å—è—Ü")]
        GetVipOneMonth,
        [Description("–í–∏–ø –Ω–∞–≤—Å–µ–≥–¥–∞")]
        GetVipOneForever,
        [Description("–ü—Ä–∏–º–µ—Ä 1")]
        ExampleOne,
        [Description("–ü—Ä–∏–º–µ—Ä 2")]
        ExampleTwo,
        [Description("–ü—Ä–∏–º–µ—Ä 3")]
        ExampleThree,
    }   
```
> ***/Models/InlineButtons/InlineCallback.cs*** - –°–æ–∑–¥–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å callback.   
>  ***/Models/InlineButtons/InlineURL.cs*** - –°–æ–∑–¥–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–æ–π.   
>  ***/Models/InlineButtons/InlineWebApp.cs*** - –°–æ–∑–¥–∞–µ—Ç –∫–Ω–æ–ø–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å WebApp.   

–î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ inline –∫–æ–º–∞–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ***InlineCallbackHandlerAttribute***    
***!!!–í–ù–ò–ú–ê–ù–ò–ï –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è—Ö THeader –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã!!!***    

```csharp
        [InlineCallbackHandler<–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ>(–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ.–ó–Ω–∞—á–µ–Ω–∏–µ)]
        public static async Task –ù–∞–∑–≤–∞–Ω–∏–µ–ú–µ—Ç–æ–¥–∞(ITelegramBotClient –Ω–∞–∑–≤–∞–Ω–∏–µ, Update –Ω–∞–∑–≤–∞–Ω–∏–µ)
        {
            //–û–±—Ä–∞–±–æ—Ç–∫–∞
        }
        
        [InlineCallbackHandler<–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ>(–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ.–ó–Ω–∞—á–µ–Ω–∏–µ, –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ.–ó–Ω–∞—á–µ–Ω–∏–µ)]
        public static async Task –ù–∞–∑–≤–∞–Ω–∏–µ–ú–µ—Ç–æ–¥–∞(ITelegramBotClient –Ω–∞–∑–≤–∞–Ω–∏–µ, Update –Ω–∞–∑–≤–∞–Ω–∏–µ)
        {
            //–û–±—Ä–∞–±–æ—Ç–∫–∞
        }
```

#### –°–æ–∑–¥–∞–Ω–∏–µ Inline –º–µ–Ω—é

```csharp
        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "InlineMenu"
        /// –ü—Ä–∏–º–µ—Ä —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π inline –º–µ–Ω—é
        /// </summary>
        [ReplyMenuHandler(true, ReplyKeys.RP_EXAMPLE_INLINE_MENU)]
        public static async Task InlineMenu(ITelegramBotClient botClient, Update update)
        {
            /* –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏ —Å callback –¥–∞–Ω–Ω—ã–º–∏
             * MessageKeys.GetValueButton(nameof(InlineKeys.IN_EXAMPLE_ONE)) - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –∏–∑ JSON
             * Models.Enums.CallbackId.ExampleOne - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–º–∞–Ω–¥—ã
             */
            var exampleItemOne = new InlineCallback(DictionaryJSON.GetButton(nameof(InlineKeys.IN_EXAMPLE_ONE)), CustomTHeader.ExampleOne);
            /* –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏ —Å callback –¥–∞–Ω–Ω—ã–º–∏
             * InlineKeys.IN_EXAMPLE_TWO - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
             * Models.Enums.CallbackId.ExampleOne - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–º–∞–Ω–¥—ã
             * new EntityTCommand(2) - –î–∞–Ω–Ω—ã–µ –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞—Ç—å
             */
            var exampleItemTwo = new InlineCallback<EntityTCommand>(InlineKeys.IN_EXAMPLE_TWO, CustomTHeader.ExampleTwo, new EntityTCommand(2));
            /* –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏ —Å callback –¥–∞–Ω–Ω—ã–º–∏
             * Models.Enums.CallbackId.ExampleOne - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–º–∞–Ω–¥—ã
             * new EntityTCommand(2) - –î–∞–Ω–Ω—ã–µ –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞—Ç—å
             */
            var exampleItemThree = new InlineCallback<EntityTCommand>("–ü—Ä–∏–º–µ—Ä 3", CustomTHeader.ExampleThree, new EntityTCommand(3));
            // –°–æ–∑–¥–∞–µ—Ç inline –∫–Ω–æ–ø–∫—É —Å —Å—Å—ã–ª–∫–æ–π
            var url = new InlineURL("Google", "https://google.com");
            // –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å webApp
            var webdata = new InlineWebApp("WA", "https://prethink.github.io/telegram/webapp.html");

            //IInlineContent - —Ä–µ–∞–ª–∏–∑—É—é—Ç –≤—Å–µ inline –∫–Ω–æ–ø–∫–∏
            List<IInlineContent> menu = new();
            
            menu.Add(exampleItemOne);
            menu.Add(exampleItemTwo);
            menu.Add(exampleItemThree);
            menu.Add(url);
            menu.Add(webdata);

            //–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–Ω—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –≤ 1 —Å—Ç–æ–ª–±–µ—Ü
            var testMenu = MenuGenerator.InlineKeyboard(1, menu);

            //–°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ
            var option = new OptionMessage();
            //–ü–µ—Ä–µ–¥–∞—á–∞ –º–µ–Ω—é –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            option.MenuInlineKeyboardMarkup = testMenu;
            string msg = "–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –º–µ–Ω—é";
            //–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –º–µ–Ω—é
            await Helpers.Message.Send(botClient, update, msg, option);
        }
```
#### –û–±—Ä–∞–±–æ—Ç–∫–∞ Inline –¥–∞–Ω–Ω—ã—Ö

```csharp
        /// <summary>
        /// callback –æ–±—Ä–∞–±–æ—Ç–∫–∞
        /// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–¥–Ω—É —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞
        /// </summary>
        [InlineCallbackHandler<CustomTHeader>(CustomTHeader.ExampleOne)]
        public static async Task Inline(ITelegramBotClient botClient, Update update)
        {
            try
            {
                //–ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å callback –¥–∞–Ω–Ω—ã–µ –∫ —Ç—Ä–µ–±—É–µ–º–æ–º—É —Ç–∏–ø—É
                var command = InlineCallback.GetCommandByCallbackOrNull(update.CallbackQuery.Data);
                if (command != null)
                {
                    string msg = "–í—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ callback";
                    await Helpers.Message.Send(botClient, update, msg);
                }
            }
            catch (Exception ex)
            {
                TelegramService.GetInstance().InvokeErrorLog(ex);
            }
        }

        /// <summary>
        /// callback –æ–±—Ä–∞–±–æ—Ç–∫–∞
        /// –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞
        /// </summary>
        [InlineCallbackHandler<CustomTHeader>(CustomTHeader.ExampleTwo, CustomTHeader.ExampleThree)]
        public static async Task InlineTwo(ITelegramBotClient botClient, Update update)
        {
            try
            {
                //–ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å callback –¥–∞–Ω–Ω—ã–µ –∫ —Ç—Ä–µ–±—É–µ–º–æ–º—É —Ç–∏–ø—É
                var command = InlineCallback<EntityTCommand>.GetCommandByCallbackOrNull(update.CallbackQuery.Data);
                if (command != null)
                {
                    string msg = $"–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø–µ—Ä–µ–¥–∞–ª–∏ {command.Data.EntityId}";
                    await Helpers.Message.Send(botClient, update, msg);
                }
            }
            catch (Exception ex)
            {
                TelegramService.GetInstance().InvokeErrorLog(ex);
            }
        }
```

### –†–∞–±–æ—Ç–∞ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º

```csharp
        /// <summary>
        /// –†—É—Å—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã
        /// </summary>
        public static DateTimeFormatInfo dtfi = CultureInfo.GetCultureInfo("ru-RU", false).DateTimeFormat;

        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç Calendar
        /// –í—ã–∑–æ–≤ –∫–æ–º–∞–Ω–¥—ã –∫–∞–ª–µ–Ω–¥–∞—Ä—è
        /// </summary>
        [ReplyMenuHandler(true, ReplyKeys.RP_EXAMPLE_CALENDAR)]
        public static async Task PickCalendar(ITelegramBotClient botClient, Update update)
        {
            try
            {
                var calendarMarkup = Markup.Calendar(DateTime.Today, dtfi);
                var option = new OptionMessage();
                option.MenuInlineKeyboardMarkup = calendarMarkup;
                await Helpers.Message.Send(botClient, update.GetChatId(), $"–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É:", option);
            }
            catch (Exception ex)
            {
                TelegramService.GetInstance().InvokeErrorLog(ex);
            }

        }

        /// <summary>
        /// –í—ã–±–æ—Ä –≥–æ–¥–∞ –∏–ª–∏ –º–µ—Å—è—Ü–∞
        /// </summary>
        [InlineCallbackHandler<THeader>(THeader.YearMonthPicker)]
        public static async Task PickYearMonth(ITelegramBotClient botClient, Update update)
        {
            try
            {
                var command = InlineCallback<CallendarTCommand>.GetCommandByCallbackOrNull(update.CallbackQuery.Data);
                if (command != null)
                {
                    var monthYearMarkup = Markup.PickMonthYear(command.Data.Date, dtfi);
                    var option = new OptionMessage();
                    option.MenuInlineKeyboardMarkup = monthYearMarkup;
                    await Helpers.Message.EditInline(botClient, update.CallbackQuery.Message.Chat.Id, update.CallbackQuery.Message.MessageId, option);
                }
            }
            catch (Exception ex)
            {
                TelegramService.GetInstance().InvokeErrorLog(ex);
            }
        }

        /// <summary>
        /// –í—ã–±–æ—Ä –º–µ—Å—è—Ü–∞
        /// </summary>
        [InlineCallbackHandler<THeader>(THeader.PickMonth)]
        public static async Task PickMonth(ITelegramBotClient botClient, Update update)
        {
            try
            {
                var command = InlineCallback<CallendarTCommand>.GetCommandByCallbackOrNull(update.CallbackQuery.Data);
                if (command != null)
                {
                    var monthPickerMarkup = Markup.PickMonth(command.Data.Date, dtfi);
                    var option = new OptionMessage();
                    option.MenuInlineKeyboardMarkup = monthPickerMarkup;
                    await Helpers.Message.EditInline(botClient, update.CallbackQuery.Message.Chat.Id, update.CallbackQuery.Message.MessageId, option);
                }


            }
            catch (Exception ex)
            {
                TelegramService.GetInstance().InvokeErrorLog(ex);
            }
        }

        /// <summary>
        /// –í—ã–±–æ—Ä –≥–æ–¥–∞
        /// </summary>
        [InlineCallbackHandler<THeader>(THeader.PickYear)]
        public static async Task PickYear(ITelegramBotClient botClient, Update update)
        {
            try
            {
                var command = InlineCallback<CallendarTCommand>.GetCommandByCallbackOrNull(update.CallbackQuery.Data);
                if (command != null)
                {
                    var monthYearMarkup = Markup.PickYear(command.Data.Date, dtfi);
                    var option = new OptionMessage();
                    option.MenuInlineKeyboardMarkup = monthYearMarkup;
                    await Helpers.Message.EditInline(botClient, update.CallbackQuery.Message.Chat.Id, update.CallbackQuery.Message.MessageId, option);
                }
            }
            catch (Exception ex)
            {
                TelegramService.GetInstance().InvokeErrorLog(ex);
            }
        }


        /// <summary>
        /// –ü–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏–µ –º–µ—Å—è—Ü–∞
        /// </summary>
        [InlineCallbackHandler<THeader>(THeader.ChangeTo)]
        public static async Task ChangeToHandler(ITelegramBotClient botClient, Update update)
        {
            try
            {
                var command = InlineCallback<CallendarTCommand>.GetCommandByCallbackOrNull(update.CallbackQuery.Data);
                if (command != null)
                {
                    var calendarMarkup = Markup.Calendar(command.Data.Date, dtfi);
                    var option = new OptionMessage();
                    option.MenuInlineKeyboardMarkup = calendarMarkup;
                    await Helpers.Message.EditInline(botClient, update.CallbackQuery.Message.Chat.Id, update.CallbackQuery.Message.MessageId, option);
                }
            }
            catch (Exception ex)
            {
                TelegramService.GetInstance().InvokeErrorLog(ex);
            }

        }

        /// <summary>
        /// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π  –¥–∞—Ç—ã
        /// </summary>
        [InlineCallbackHandler<THeader>(THeader.PickDate)]
        public static async Task PickDate(ITelegramBotClient botClient, Update update)
        {
            try
            {
                var command = InlineCallback<CallendarTCommand>.GetCommandByCallbackOrNull(update.CallbackQuery.Data);
                if (command != null)
                {
                    var data = command.Data.Date;
                    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—ã;
                }
            }
            catch (Exception ex)
            {
                TelegramService.GetInstance().InvokeErrorLog(ex);
            }
        }
```

### –†–∞–±–æ—Ç–∞ —Å–æ —Å–ª–µ—à –∫–æ–º–∞–Ω–¥–∞–º–∏
```csharp
        /// <summary>
        /// –Ω–∞–ø–∏—à–∏ –∫–æ–º–∞–Ω–¥—É –≤ —á–∞—Ç–µ /example
        /// </summary>
        [SlashHandler(SlashKeys.SL_EXAMPLE)]
        public static async Task SlashCommand(ITelegramBotClient botClient, Update update)
        {
            string msg = $"–ö–æ–º–∞–Ω–¥–∞ {SlashKeys.SL_EXAMPLE}";
            await Helpers.Message.Send(botClient, update, msg);
        }

        /// <summary>
        /// –Ω–∞–ø–∏—à–∏ –∫–æ–º–∞–Ω–¥—É –≤ —á–∞—Ç–µ /get_1
        /// </summary>
        [SlashHandler(SlashKeys.SL_EXAMPLE_GET)]
        public static async Task SlashCommandGet(ITelegramBotClient botClient, Update update)
        {
            if (update.Message.Text.Contains("_"))
            {
                var spl = update.Message.Text.Split("_");
                if (spl.Length > 1)
                {
                    string msg = $"–ö–æ–º–∞–Ω–¥–∞ {SlashKeys.SL_EXAMPLE_GET} —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º {spl[1]}";
                    await Helpers.Message.Send(botClient, update, msg);
                }
                else
                {
                    string msg = $"–ö–æ–º–∞–Ω–¥–∞ {SlashKeys.SL_EXAMPLE_GET}";
                    await Helpers.Message.Send(botClient, update, msg);
                }
            }
            else
            {
                string msg = $"–ö–æ–º–∞–Ω–¥–∞ {SlashKeys.SL_EXAMPLE_GET}";
                await Helpers.Message.Send(botClient, update, msg);
            }
        }
```
### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–∏–∫–∞ –¥–ª—è –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫

> –≤ appconfig.json —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π –∫–Ω–æ–ø–æ–∫ –≤ —Å–µ–∫—Ü–∏–∏ ***Buttons***   
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫ –∏–∑ JSON   
```csharp
DictionaryJSON.GetButton(nameof(InlineKeys.IN_EXAMPLE_ONE))
DictionaryJSON.GetButton("IN_EXAMPLE_ONE")
```

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ –∑–Ω–∞—á–µ–Ω–∏–µ IN_EXAMPLE_ONE –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ appconfig.json   
### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–∏–∫–∞ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

> –≤ appconfig.json —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—Ü–∏–∏ ***Messages***   
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ JSON   
```csharp
DictionaryJSON.GetMessage(nameof(MessageKeys.MSG_EXAMPLE_TEXT));
DictionaryJSON.GetMessage("MSG_EXAMPLE_TEXT");
```


–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ –∑–Ω–∞—á–µ–Ω–∏–µ MSG_EXAMPLE_TEXT –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏—Å—É—Å—Ç–≤–æ–≤–∞—Ç—å –≤ appconfig.json
### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –∫—ç—à–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

> –ö–ª–∞—Å—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ***/Models/TelegramCache.cs***      
> –í –∫–æ–Ω—Å–æ–ª—å–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å ***UserCache*** –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç TelegramCache. –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –∫–ª–∞—Å—Å –ª—é–±—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏.   

```csharp
        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ –±–æ—Ç–µ "cache"
        /// –§—É–Ω–∫—Ü–∏—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à
        /// </summary>
        [ReplyMenuHandler(true, "cache")]
        public static async Task GetCache(ITelegramBotClient botClient, Update update)
        {
            string msg = $"–ó–∞–ø–∏—Å—å –≤ –∫—ç—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–∞–Ω–Ω—ã—Ö: {update.GetChatId()}";
            //–ó–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –∫–µ—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            update.GetCacheData<UserCache>().Id = update.GetChatId();
            await Helpers.Message.Send(botClient, update, msg);
        }

        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ –±–æ—Ç–µ "resultcache"
        /// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞
        /// </summary>
        [ReplyMenuHandler(true, "resultcache")]
        public static async Task CheckCache(ITelegramBotClient botClient, Update update)
        {
            //–ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å –∫–µ—à–∞
            var cache = update.GetCacheData<UserCache>();
            string msg = "";
            if(cache.Id != null)
            {
                msg = $"–î–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {cache.Id}";
            }
            else
            {
                msg = $"–î–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.";
            }
            await Helpers.Message.Send(botClient, update, msg);
        }

        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ –±–æ—Ç–µ "clearcache"
        /// –§—É–Ω–∫—Ü–∏—è –æ—á–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        /// </summary>
        [ReplyMenuHandler(true, "clearcache")]
        public static async Task ClearCache(ITelegramBotClient botClient, Update update)
        {
            string msg = "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è";
            //–û—á–∏—â–∞–µ–º –∫–µ—à –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            update.GetCacheData<UserCache>().ClearData();
            await Helpers.Message.Send(botClient, update, msg);
        }
```



### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å —à–∞–≥–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–í–ù–ò–ú–ê–ù–ò–ï: –ß—Ç–æ–±—ã –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ —É –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–ª–µ–¥—É—é—â–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ ***Task –ù–∞–∑–≤–∞–Ω–∏–µ(ITelegramBotClient –Ω–∞–∑–≤–∞–Ω–∏–µ, Update –Ω–∞–∑–≤–∞–Ω–∏–µ)***
> –ö–ª–∞—Å—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —à–∞–≥–æ–≤ ***/Extensions/Step.cs***   
> –ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —à–∞–≥–∞–º–∏  ***/Models/StepTelegram.cs***   
```csharp
        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "stepstart"
        /// –ú–µ—Ç–æ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        /// </summary>
        [ReplyMenuHandler(false, "stepstart")]
        public static async Task StepStart(ITelegramBotClient botClient, Update update)
        {
            string msg = "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ –∏–º—è";
            //–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            update.RegisterNextStep(new StepTelegram(StepOne));
            await Helpers.Message.Send(botClient, update, msg);
        }

        /// <summary>
        /// –ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ª—é–±–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–ª–∏ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É –∏–∑ reply –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —ç—Ç–æ—Ç –º–µ—Ç–æ–¥.
        /// –ú–µ—Ç–æ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        /// </summary>
        public static async Task StepOne(ITelegramBotClient botClient, Update update)
        {
            string msg = $"–®–∞–≥ 1 - –í–∞—à–µ –∏–º—è {update.Message.Text}" +
                        $"\n–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è";
            //–ó–∞–ø–∏—Å—å –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –∫—ç—â –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            update.GetCacheData<UserCache>().Data = $"–ò–º—è: {update.Message.Text}\n";
            //–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –æ–∂–∏–¥–∞–Ω–∏–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ —à–∞–≥–∞ 5 –º–∏–Ω—É—Ç –æ—Ç –º–æ–º–µ–Ω—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            update.RegisterNextStep(new StepTelegram(StepTwo, DateTime.Now.AddMinutes(5)));
            await Helpers.Message.Send(botClient, update, msg);
        }

        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç –ª—é–±–æ–π —Ç–µ–∫—Å—Ç –∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—ã–ª –∑–∞–ø–∏—Å–∞–Ω —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
        /// </summary>
        public static async Task StepTwo(ITelegramBotClient botClient, Update update)
        {
            string msg = $"–®–∞–≥ 2 - –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è {update.Message.Text}" +
                         $"\n–ù–∞–ø–∏—à–∏ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç";
            //–ó–∞–ø–∏—Å—å –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –∫—ç—â –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            update.GetCacheData<UserCache>().Data += $"–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: {update.Message.Text}\n";
            //–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –æ–∂–∏–¥–∞–Ω–∏–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ —à–∞–≥–∞ 5 –º–∏–Ω—É—Ç –æ—Ç –º–æ–º–µ–Ω—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            update.RegisterNextStep(new StepTelegram(StepThree, DateTime.Now.AddMinutes(5)));

            //–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è
            var option = new OptionMessage();
            //–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—É—Å—Ç–æ–≥–æ reply –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–æ–π "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
            //–§—É–Ω–∫—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–º–µ—Ç —ç—Ç—É –∫–Ω–æ–ø–∫—É –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é, –∞ –Ω–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞.
            option.MenuReplyKeyboardMarkup = MenuGenerator.ReplyKeyboard(1, new List<string>(), true, DictionaryJSON.GetButton(nameof(ReplyKeys.RP_MAIN_MENU)));
            await Helpers.Message.Send(botClient, update, msg, option);
        }


        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç –ª—é–±–æ–π —Ç–µ–∫—Å—Ç –∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—ã–ª –∑–∞–ø–∏—Å–∞–Ω —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
        /// </summary>
        public static async Task StepThree(ITelegramBotClient botClient, Update update)
        {
            string msg = $"–®–∞–≥ 3 - –†–µ–∑—É–ª—å—Ç–∞—Ç:\n{update.GetCacheData<UserCache>().Data}" +
                         $"\n–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤ –æ—á–∏—â–µ–Ω–∞.";
            //–ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥
            update.ClearStepUser();
            await Helpers.Message.Send(botClient, update, msg);
        }

        /// <summary>
        /// –ï—Å–ª–∏ –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥, –æ–Ω –±—É–¥–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã
        /// –ü–æ—Ç–æ–º—É —á—Ç–æ –≤ ReplyMenuHandler –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ true, —á—Ç–æ –∑–Ω–∞—á–∏—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
        /// </summary>
        [ReplyMenuHandler(true, "ignorestep")]
        public static async Task IngoreStep(ITelegramBotClient botClient, Update update)
        {
            string msg = "";
            if (update.HasStep())
            {
                msg = "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω";
            }
            else
            {
                msg = "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª";
            }
            
            await Helpers.Message.Send(botClient, update, msg);
        }
```

### –ü—Ä–∏–º–µ—Ä –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –≥—Ä—É–ø–ø–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ï—Å–ª–∏ –∫ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞—Ç—Ä–∏–±—É—Ç–æ–º Access, –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ —Å–µ–±—è –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ int.    

–í–∞—Ä–∏–∞–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–∏–±–æ —á–µ—Ä–µ–∑ int –ª–∏–±–æ —á–µ—Ä–µ–∑ flags enum    

> [Access((int)(UserPrivilege.Guest | UserPrivilege.Registered))]     
> [Access(11)]     


```csharp
        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "Access"
        /// –ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ reply –º–µ–Ω—é
        /// </summary>
        [Access((int)(UserPrivilege.Guest | UserPrivilege.Registered))]
        [ReplyMenuHandler(true, "Access")]
        public static async Task ExampleAccess(ITelegramBotClient botClient, Update update)
        {
            string msg = "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π";
            await Helpers.Message.Send(botClient, update, msg);
        }
```

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ OnCheckPrivilege   

```csharp
    //–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
    telegram.Handler.Router.OnCheckPrivilege        += ExampleEvent.OnCheckPrivilege;
```

–¢–µ–ø–µ—Ä—å –≤ OnCheckPrivilege –ø–∏—à–µ–º —Å–≤–æ—é –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏–≤–µ–¥–µ–Ω –Ω–∏–∂–µ.  

```csharp
        /// <summary>
        /// –°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–≤–µ–ª–µ–≥–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        /// </summary>
        /// <param name="callback">callback —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞</param>
        /// <param name="flags">–§–ª–∞–≥–∏ –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Å—É—Å—Ç–≤–æ–≤–∞—Ç—å</param>
        public static async Task OnCheckPrivilege(Telegram.Bot.ITelegramBotClient botclient, Telegram.Bot.Types.Update update, Router.TelegramCommand callback, int? flags = null)
        {
            if(flags != null)
            {
                var flag = flags.Value;
                //–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–ª–∞–≥–∏ —á–µ—Ä–µ–∑ int
                if(update.GetIntPrivilege().Contains(flag))
                {
                    await callback(botclient, update);
                    return;
                }

                //–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–ª–∞–≥–∏ —á–µ—Ä–µ–∑ enum UserPrivilage
                if (((UserPrivilege)flag).HasFlag(update.GetFlagPrivilege()))
                {
                    await callback(botclient, update);
                    return;
                }

                string errorMsg = "–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏";
                await PRTelegramBot.Helpers.Message.Send(botclient, update, errorMsg);
                return;
            }
            string msg = "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π";
            await PRTelegramBot.Helpers.Message.Send(botclient, update, msg);
        }
```

### –†–∞–±–æ—Ç–∞ —Å –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–º –≤—ã–≤–æ–¥–æ–º

```csharp
    public class ExamplePage
    {
        //–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ 1
        static List<string> pageData = new List<string>()
            {
                "–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 1",
                "–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 2",
                "–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 3",
                "–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 4",
                "–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 5"
            };

        //–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ 2
        static List<string> pageDataTwo = new List<string>()
            {
                "Test–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 1",
                "Test–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 2",
                "Test–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 3",
                "Test–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 4",
                "Test–î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 5"
            };

        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "pages"
        /// </summary>
        [ReplyMenuHandler(true, "pages")]
        public static async Task ExamplePages(ITelegramBotClient botClient, Update update)
        {
            //–ë–µ—Ä—É —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
            string msg = pageData[0];
            //–ü–æ–ª—É—á–∞—é –∫–æ–Ω—Ç–µ–Ω—Ç —Å 1 —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ä–∞–∑–º–µ—Ä–æ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã 1
            var data = await pageData.GetPaged<string>(1, 1);
            //–ì–µ–Ω–µ—Ä–∏—Ä—É—é –º–µ–Ω—é –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
            var generateMenu = PRTelegramBot.Helpers.TG.MenuGenerator.GetPageMenu(data.CurrentPage, data.PageCount, CustomTHeader.CustomPageHeader);
            var option = new OptionMessage();
            option.MenuInlineKeyboardMarkup = generateMenu;
            var message = await Helpers.Message.Send(botClient, update, msg, option);
        }

        /// <summary>
        /// –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ "pagestwo"
        /// </summary>
        [ReplyMenuHandler(true, "pagestwo")]
        public static async Task ExamplePagesTwo(ITelegramBotClient botClient, Update update)
        {
            //–ë–µ—Ä—É —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
            string msg = pageDataTwo[0];
            //–ü–æ–ª—É—á–∞—é –∫–æ–Ω—Ç–µ–Ω—Ç —Å 1 —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ä–∞–∑–º–µ—Ä–æ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã 1
            var data = await pageDataTwo.GetPaged<string>(1, 1);
            //–ì–µ–Ω–µ—Ä–∏—Ä—É—é –º–µ–Ω—é –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
            var generateMenu = PRTelegramBot.Helpers.TG.MenuGenerator.GetPageMenu(data.CurrentPage, data.PageCount, CustomTHeader.CustomPageHeader2);
            var option = new OptionMessage();
            option.MenuInlineKeyboardMarkup = generateMenu;
            var message = await Helpers.Message.Send(botClient, update, msg, option);
        }

        /// <summary>
        /// callback –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
        /// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–¥–Ω—É —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞
        /// </summary>
        [InlineCallbackHandler<THeader>(THeader.NextPage, THeader.PreviousPage, THeader.CurrentPage)]
        public static async Task InlinenPage(ITelegramBotClient botClient, Update update)
        {
            try
            {
                //–ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å callback –¥–∞–Ω–Ω—ã–µ –∫ —Ç—Ä–µ–±—É–µ–º–æ–º—É —Ç–∏–ø—É
                if (update.CallbackQuery?.Data != null)
                {
                    var command = InlineCallback<PageTCommand>.GetCommandByCallbackOrNull(update.CallbackQuery.Data);
                    if (command != null)
                    {
                        //–ü–æ–ª—É—á–∞—é –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏–∑ –¥–∞–Ω–Ω—ã—Ö
                        CustomTHeader header = (CustomTHeader)command.Data.Header;
                        //–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –¥–∞–Ω–Ω—ã–µ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É
                        if(header == CustomTHeader.CustomPageHeader)
                        {
                            //–ü–æ–ª—É—á–∞—é –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —É–∫–∞–∑—ã–≤–∞—é —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                            var data = await pageData.GetPaged<string>(command.Data.Page, 1);
                            //–ì–µ–Ω–µ—Ä–∏—Ä—É—é –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –º–µ–Ω—é
                            var generateMenu = Helpers.TG.MenuGenerator.GetPageMenu(data.CurrentPage, data.PageCount, CustomTHeader.CustomPageHeader);
                            //–ü–æ–ª—É—á–∞—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
                            var pageResult = data.Results;
                            var option = new OptionMessage();
                            option.MenuInlineKeyboardMarkup = generateMenu;
                            string msg = "";
                            if (pageResult.Count > 0)
                            {
                                msg = pageResult.FirstOrDefault();
                            }
                            else
                            {
                                msg = "–ù–µ—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ";
                            }
                            //–†–µ–¥–∞–∫—Ç–∏—Ä—É—é —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                            await Helpers.Message.Edit(botClient, update, msg, option);
                        }
                        //–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –¥–∞–Ω–Ω—ã–µ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É
                        else if (header == CustomTHeader.CustomPageHeader2)
                        {
                            //–ü–æ–ª—É—á–∞—é –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —É–∫–∞–∑—ã–≤–∞—é —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                            var data = await pageDataTwo.GetPaged<string>(command.Data.Page, 1);
                            //–ì–µ–Ω–µ—Ä–∏—Ä—É—é –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –º–µ–Ω—é
                            var generateMenu = Helpers.TG.MenuGenerator.GetPageMenu(data.CurrentPage, data.PageCount, CustomTHeader.CustomPageHeader2);
                            //–ü–æ–ª—É—á–∞—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
                            var pageResult = data.Results;
                            var option = new OptionMessage();
                            option.MenuInlineKeyboardMarkup = generateMenu;
                            string msg = "";
                            if (pageResult.Count > 0)
                            {
                                msg = pageResult.FirstOrDefault();
                            }
                            else
                            {
                                msg = "–ù–µ—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ";
                            }
                            //–†–µ–¥–∞–∫—Ç–∏—Ä—É—é —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                            await Helpers.Message.Edit(botClient, update, msg, option);
                        }
                    }
                }

            }
            catch (Exception ex)
            {
                TelegramService.GetInstance().InvokeErrorLog(ex);
            }
        }
    }
```

### [üìé –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞](https://github.com/prethink/-PR-TelegramBot/wiki/%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5-%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D1%8B-%D0%B2-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B5-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0)

